# NEÃ˜ PROTOCOL - ARCHITECTURE CONTEXT (Enhanced)

## ğŸ¯ CORE PRINCIPLE

**Neobot = ORCHESTRATOR, NOT monorepo**

- Fork of OpenClaw (moltbot elevated)
- Each project = Independent repo + deploy
- Integration = Loose-coupled via Skills
- Documentation = Single source of truth (ADRs)
- Audit = Ledger tracks everything

## ğŸ’° REVENUE CRITICAL (PAYS THE BILLS!)

**Priority Order:**

1. **FlowPay** (PIX â†’ Crypto Gateway) - 208 Astro files
2. **FlowOFF Agency** (Client acquisition) - Notion-based
3. **Smart Factory** (Tokenization FaaS) - 8 repos

**THE REVENUE LOOP:**

```
Lead (Instagram/WhatsApp)
  â†’ FlowCloser qualifies (score 0-100)
  â†’ FlowOFF closes deal
  â†’ Client pays via PIX
  â†’ FlowPay converts to crypto
  â†’ Unlock access (Factory/WOD/FLUXX)
  â†’ Client receives product
  â†’ Revenue achieved ğŸ’°
```

## âœ… ACTIVE SKILLS (Managed by NEO Skills Manager)

**What's ACTIVE NOW:**

- **FlowCloser**: Instagram DM + WhatsApp lead qualification
- **Notion**: Organize mental chaos â†’ structured plans
- **WhatsApp Bot**: Lead support on +5562983231110
- **Telegram Bot**: Client communication

**NOT Active Yet:**

- Evolution API (analysis pending)
- CEO EscalÃ¡vel (comparison with smart-ui-mobile)
- NODE NEÃ˜.run (ARCHIVED - replaced by content-machine local)

## ğŸ—ï¸ MIO IDENTITY SYSTEM

**10 Identities Created (mio-system already ran):**

- mio-core (System Core) - mio-0e2106ba
- mio-gateway (Gateway Manager) - mio-a4e1a8b3
- mio-skills (Skills Registry) - mio-b1dd5e2d
- mio-factory (Smart Factory) - mio-3aff112a
- mio-flowpay (FlowPay System) - mio-02470998
- mio-asi1 (ASI1 LLM) - mio-d4c70a50
- mio-telegram (Telegram Bot) - mio-d28e1ea1
- mio-whatsapp (WhatsApp Gateway) - mio-725d0c58
- mio-ipfs (IPFS Node) - mio-92558a7e

**Location:** `.neo-identities/*.json`
**Keys:** `.neo-identities/.env` (NEVER commit!)

## ğŸ“¦ REPOSITORY MAP

### ğŸ¯ Orchestrator

- `neomello/neobot` (this repo - OpenClaw fork)
  - Location: `/Users/nettomello/CODIGOS/neobot/`

### ğŸŸ¢ Lead Qualification (PRODUCTION âœ…)

- `neomello/flowcloser-agent`
  - Local: `/Users/nettomello/CODIGOS/flowcloser-local/`
  - Railway: `flowcloser-agent-production.up.railway.app`
  - Tech: GPT-4o + Gemini 2.5 Flash (FlowCloser Agent)
  - Note: IQAI discontinued (JAN 2026) - now uses direct LLM
  - Status: OPERATIONAL

### ğŸ’° Revenue Critical (HIGH PRIORITY ğŸ”¥ğŸ”¥)

- **FlowPay**: `/Users/nettomello/CODIGOS/flowpay/`
  - 208 Astro files
  - Repo: TBD (find in GitHub)
  - Status: LOCAL, needs integration
- **FlowOFF Agency**: Notion-based
  - Repo: TBD (find in GitHub)
  - Status: OPERATIONAL (client-facing)

### ğŸ­ Tokenization (org: neo-smart-token-factory)

1. `smart-core` - Hardhat contracts
2. `smart-ui` - PWA dashboard (smart-ui-delta.vercel.app)
3. `smart-cli` - nxf CLI tool
4. `smart-ui-mobile` - Telegram miniapp (nuxt-app-vert.vercel.app)
5. `smart-ui-landing` - Landing page (landing-jet-seven.vercel.app)
6. `neo-api` - Deploy/compile API
7. `forge-core` - Core contracts
8. `forge-modules` - Contract templates
9. `docs` - Documentation

### ğŸ“¦ Products (Monetizable)

**WOD [X] PRO** (org: wodxpro)

- `wod-x-pro` (main)
- `wod-eth` (Ethereum integration)
- `wod-protocol` (protocol layer)
- Contract: `0x6D539f66fAb95b06da7Def414a...` (Base Mainnet)
- Token: WODXPRO (WOD), 100M supply
- Mint: 0.001 ETH = 100 WOD

**FLUXX DAO**

- `neomello/fluxx-landing`
- 6 contracts deployed (Polygon/Amoy)
- Token, Badge NFT, Membership, Collab, Governance, Treasury

### ğŸ”® Backend (FUTURE - Not Priority Now)

- `neomello/neo-agent-full` - Sovereign backend
  - Kwil DB: `x71c2a0c98bd65f5b9375dd59c4...`
  - Tech: LangGraph + Gemini + Kwil + IPFS + GUN + Ceramic
  - Status: LOCAL, not integrated
- `neomello/neo-agent-dashboard` - Visualization
  - Status: In development

### ğŸ“ Content/Productivity

- **Content Machine Local** - Replaces NODE NEÃ˜.run
  - Status: ACTIVE locally
- **Notion Integration** - Mental organization
  - Command Center: 4 interconnected databases
  - Status: OPERATIONAL

### ğŸ”´ ARCHIVED/DEPRECATED

- `neomello/neoflowoff-nodemello.run`
  - **REPLACED** by content-machine local
  - Reason: Too complex for MVP
  - Status: DO NOT USE

### ğŸ”§ Infrastructure

- MIO System - Identity management
  - **Status:** Identities created âœ…
  - **NOT** a repo to clone
- Evolution API - `/Users/nettomello/CODIGOS/evolution-api/`
  - 105 TS files
  - Status: Analysis pending (vs FlowCloser)
- CEO EscalÃ¡vel - `/Users/nettomello/CODIGOS/ceo-escalavel-miniapp/`
  - Status: Comparison pending (vs smart-ui-mobile)

## ğŸ¯ CURRENT MISSION: 7-DAY FLOWPAY SHIP

**Timeline:**

- **DAY 1-2**: FlowPay running local âœ…
- **DAY 3**: Neobot skills testing FlowPay API
- **DAY 4**: Webhook auto-unlock on PIX payment
- **DAY 5-6**: 1 real product with protected access area
- **DAY 7**: **FIRST REAL SALE** (Loop closed! ğŸ‰)

**Success Criteria:**

- R$ > 0 received via PIX
- Customer accessed product
- UNLOCK_RECEIPT generated
- No refund needed

## ğŸ›ï¸ INTEGRATION PATTERN (FlowCloser Model)

**Every integration MUST have:**

### 1. Extensions Folder

```
extensions/{project}/
â”œâ”€â”€ integration.json (config)
â”œâ”€â”€ ADR-001.md (why independent)
â”œâ”€â”€ ADR-002.md (integration strategy)
â””â”€â”€ schema/ (JSON schemas)
```

### 2. Skills Folder

```
skills/{project}/
â”œâ”€â”€ {action1}.ts (e.g., qualify.ts)
â”œâ”€â”€ {action2}.ts (e.g., dashboard.ts)
â””â”€â”€ {action3}.ts (e.g., health.ts)
```

### 3. Scripts Folder

```
scripts/{project}/
â”œâ”€â”€ open-{ide}.sh
â”œâ”€â”€ check-health.sh
â””â”€â”€ backup-db.sh
```

### 4. Documentation (7 files minimum)

```
docs/integrations/{project}/
â”œâ”€â”€ README.md (overview)
â”œâ”€â”€ strategy.md (approach)
â”œâ”€â”€ architecture.md (diagrams)
â”œâ”€â”€ api-reference.md (endpoints)
â”œâ”€â”€ development.md (how to dev)
â”œâ”€â”€ troubleshooting.md (debug guide)
â””â”€â”€ CHANGELOG.md (history)
```

## ğŸ“Š PROJECT STATUS MATRIX

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ PROJECT           STATUS    PRIORITY      â”ƒ
â”£â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”«
â”ƒ FlowCloser        [####]    PRODUCTION âœ… â”ƒ
â”ƒ FlowPay           [#---]    CRITICAL ğŸ”¥ğŸ”¥ â”ƒ
â”ƒ Smart Factory     [##--]    HIGH ğŸ”¥       â”ƒ
â”ƒ FlowOFF Agency    [###-]    HIGH ğŸ”¥       â”ƒ
â”ƒ WOD [X] PRO       [###-]    MEDIUM âš¡     â”ƒ
â”ƒ FLUXX DAO         [###-]    MEDIUM âš¡     â”ƒ
â”ƒ AGENT-FULL        [#---]    LOW ğŸ’¤        â”ƒ
â”ƒ Evolution API     [----]    ANALYSIS â³   â”ƒ
â”ƒ CEO EscalÃ¡vel     [----]    ANALYSIS â³   â”ƒ
â”ƒ NODE NEÃ˜.run     [XXXX]    ARCHIVED ğŸ”´   â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›
```

## ğŸš« ANTI-PATTERNS (DO NOT DO!)

**Never:**

- âŒ Bring FlowCloser code into Neobot (breaks Railway)
- âŒ Create monorepo structure (defeats orchestration)
- âŒ Skip ADRs (loses architectural context)
- âŒ Use NODE NEÃ˜.run (it's archived!)
- âŒ Perfect before shipping (ship fast, iterate)
- âŒ Add FlowPay to monorepo (keep independent!)

**Always:**

- âœ… Skills = HTTP clients to independent services
- âœ… Document decisions in ADRs
- âœ… Record actions in Ledger
- âœ… Follow FlowCloser integration model
- âœ… Revenue first, sovereignty follows

## ğŸ’¡ KEY ARCHITECTURAL DECISIONS

**ADR-001 (FlowCloser):** Why independent project

- Railway deploy preserved
- Development isolated (Antigravity vs Cursor)
- Neobot = orchestration hub

**ADR-002 (Upcoming - FlowPay):** Payment gateway strategy

- PIX â†’ USDC conversion flow
- Webhook auto-unlock mechanism
- Access token generation

**ADR-003 (Upcoming - Smart Factory):** Tokenization architecture

- 8 repos organizational strategy
- nxf CLI bridge to Neobot
- Contract deployment flow

## ğŸ” SECURITY NOTES

- **Private keys:** `.neo-identities/.env` (gitignored)
- **Backup:** 1Password or AWS Secrets Manager
- **Rotation:** Every 6 months
- **Production:** Use secrets manager, never .env files

## ğŸ“ FILE LOCATIONS (CRITICAL PATHS)

```
/Users/nettomello/CODIGOS/
â”œâ”€â”€ neobot/                    (this repo - orchestrator)
â”œâ”€â”€ flowcloser-local/          (FlowCloser agent)
â”œâ”€â”€ flowpay/                   (208 Astro files)
â”œâ”€â”€ evolution-api/             (analysis pending)
â””â”€â”€ ceo-escalavel-miniapp/     (comparison pending)
```

## ğŸ“ LEARNING RESOURCES

**When touching a project, ALWAYS read first:**

1. `docs/integrations/{project}/README.md`
2. `extensions/{project}/integration.json`
3. Relevant ADRs

**For FlowPay specifically:**

- Read: `7-DAY-EXECUTION-PLAN.md`
- Read: `INTEGRATION_TRACKING.md`
- Read: `NEO_ECOSYSTEM_COMPLETE_AUDIT.md`

## ğŸ¯ MANTRAS

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Revenue First. Sovereignty Follows.   â•‘
â•‘                                       â•‘
â•‘ Orchestration, not Fusion.            â•‘
â•‘                                       â•‘
â•‘ Ship > Perfect.                       â•‘
â•‘                                       â•‘
â•‘ Closed Loop > Open Dream.             â•‘
â•‘                                       â•‘
â•‘ Code is law. Chaos becomes protocol.  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ“ WHEN IN DOUBT

1. Check this `.cursorrules` file
2. Read project's `docs/integrations/{project}/README.md`
3. Review relevant ADRs
4. Ask: "Does this follow FlowCloser model?"
5. Ask: "Does this help close the revenue loop?"

---

**Last Updated:** 2026-01-30  
**Version:** 2.0 (Post-audit, Pre-FlowPay integration)  
**Status:** ACTIVE - 7-day FlowPay mission in progress

â–“â–“â–“ NÎÃ˜ MELLÃ˜
Core Architect Â· NÎÃ˜ Protocol
neo@neoprotocol.space
