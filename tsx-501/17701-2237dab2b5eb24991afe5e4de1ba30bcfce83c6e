{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{onboardCommand}from\"../../commands/onboard.js\";import{defaultRuntime}from\"../../runtime.js\";import{formatDocsLink}from\"../../terminal/links.js\";import{theme}from\"../../terminal/theme.js\";import{runCommandWithRuntime}from\"../cli-utils.js\";function resolveInstallDaemonFlag(command,opts){if(!command||typeof command!==\"object\")return void 0;const getOptionValueSource=\"getOptionValueSource\"in command?command.getOptionValueSource:void 0;if(typeof getOptionValueSource!==\"function\")return void 0;if(getOptionValueSource.call(command,\"skipDaemon\")===\"cli\")return false;if(getOptionValueSource.call(command,\"installDaemon\")===\"cli\"){return Boolean(opts.installDaemon)}return void 0}__name(resolveInstallDaemonFlag,\"resolveInstallDaemonFlag\");function registerOnboardCommand(program){program.command(\"onboard\").description(\"Interactive wizard to set up the gateway, workspace, and skills\").addHelpText(\"after\",()=>`\n${theme.muted(\"Docs:\")} ${formatDocsLink(\"/cli/onboard\",\"docs.molt.bot/cli/onboard\")}\n`).option(\"--workspace <dir>\",\"Agent workspace directory (default: ~/clawd)\").option(\"--reset\",\"Reset config + credentials + sessions + workspace before running wizard\").option(\"--non-interactive\",\"Run without prompts\",false).option(\"--accept-risk\",\"Acknowledge that agents are powerful and full system access is risky (required for --non-interactive)\",false).option(\"--flow <flow>\",\"Wizard flow: quickstart|advanced|manual\").option(\"--mode <mode>\",\"Wizard mode: local|remote\").option(\"--auth-choice <choice>\",\"Auth: setup-token|token|chutes|openai-codex|openai-api-key|openrouter-api-key|ai-gateway-api-key|moonshot-api-key|kimi-code-api-key|synthetic-api-key|venice-api-key|gemini-api-key|zai-api-key|apiKey|minimax-api|minimax-api-lightning|opencode-zen|skip\").option(\"--token-provider <id>\",\"Token provider id (non-interactive; used with --auth-choice token)\").option(\"--token <token>\",\"Token value (non-interactive; used with --auth-choice token)\").option(\"--token-profile-id <id>\",\"Auth profile id (non-interactive; default: <provider>:manual)\").option(\"--token-expires-in <duration>\",\"Optional token expiry duration (e.g. 365d, 12h)\").option(\"--anthropic-api-key <key>\",\"Anthropic API key\").option(\"--openai-api-key <key>\",\"OpenAI API key\").option(\"--openrouter-api-key <key>\",\"OpenRouter API key\").option(\"--ai-gateway-api-key <key>\",\"Vercel AI Gateway API key\").option(\"--moonshot-api-key <key>\",\"Moonshot API key\").option(\"--kimi-code-api-key <key>\",\"Kimi Code API key\").option(\"--gemini-api-key <key>\",\"Gemini API key\").option(\"--zai-api-key <key>\",\"Z.AI API key\").option(\"--minimax-api-key <key>\",\"MiniMax API key\").option(\"--synthetic-api-key <key>\",\"Synthetic API key\").option(\"--venice-api-key <key>\",\"Venice API key\").option(\"--opencode-zen-api-key <key>\",\"OpenCode Zen API key\").option(\"--gateway-port <port>\",\"Gateway port\").option(\"--gateway-bind <mode>\",\"Gateway bind: loopback|tailnet|lan|auto|custom\").option(\"--gateway-auth <mode>\",\"Gateway auth: token|password\").option(\"--gateway-token <token>\",\"Gateway token (token auth)\").option(\"--gateway-password <password>\",\"Gateway password (password auth)\").option(\"--remote-url <url>\",\"Remote Gateway WebSocket URL\").option(\"--remote-token <token>\",\"Remote Gateway token (optional)\").option(\"--tailscale <mode>\",\"Tailscale: off|serve|funnel\").option(\"--tailscale-reset-on-exit\",\"Reset tailscale serve/funnel on exit\").option(\"--install-daemon\",\"Install gateway service\").option(\"--no-install-daemon\",\"Skip gateway service install\").option(\"--skip-daemon\",\"Skip gateway service install\").option(\"--daemon-runtime <runtime>\",\"Daemon runtime: node|bun\").option(\"--skip-channels\",\"Skip channel setup\").option(\"--skip-skills\",\"Skip skills setup\").option(\"--skip-health\",\"Skip health check\").option(\"--skip-ui\",\"Skip Control UI/TUI prompts\").option(\"--node-manager <name>\",\"Node manager for skills: npm|pnpm|bun\").option(\"--json\",\"Output JSON summary\",false).action(async(opts,command)=>{await runCommandWithRuntime(defaultRuntime,async()=>{const installDaemon=resolveInstallDaemonFlag(command,{installDaemon:Boolean(opts.installDaemon)});const gatewayPort=typeof opts.gatewayPort===\"string\"?Number.parseInt(opts.gatewayPort,10):void 0;await onboardCommand({workspace:opts.workspace,nonInteractive:Boolean(opts.nonInteractive),acceptRisk:Boolean(opts.acceptRisk),flow:opts.flow,mode:opts.mode,authChoice:opts.authChoice,tokenProvider:opts.tokenProvider,token:opts.token,tokenProfileId:opts.tokenProfileId,tokenExpiresIn:opts.tokenExpiresIn,anthropicApiKey:opts.anthropicApiKey,openaiApiKey:opts.openaiApiKey,openrouterApiKey:opts.openrouterApiKey,aiGatewayApiKey:opts.aiGatewayApiKey,moonshotApiKey:opts.moonshotApiKey,kimiCodeApiKey:opts.kimiCodeApiKey,geminiApiKey:opts.geminiApiKey,zaiApiKey:opts.zaiApiKey,minimaxApiKey:opts.minimaxApiKey,syntheticApiKey:opts.syntheticApiKey,veniceApiKey:opts.veniceApiKey,opencodeZenApiKey:opts.opencodeZenApiKey,gatewayPort:typeof gatewayPort===\"number\"&&Number.isFinite(gatewayPort)?gatewayPort:void 0,gatewayBind:opts.gatewayBind,gatewayAuth:opts.gatewayAuth,gatewayToken:opts.gatewayToken,gatewayPassword:opts.gatewayPassword,remoteUrl:opts.remoteUrl,remoteToken:opts.remoteToken,tailscale:opts.tailscale,tailscaleResetOnExit:Boolean(opts.tailscaleResetOnExit),reset:Boolean(opts.reset),installDaemon,daemonRuntime:opts.daemonRuntime,skipChannels:Boolean(opts.skipChannels),skipSkills:Boolean(opts.skipSkills),skipHealth:Boolean(opts.skipHealth),skipUi:Boolean(opts.skipUi),nodeManager:opts.nodeManager,json:Boolean(opts.json)},defaultRuntime)})})}__name(registerOnboardCommand,\"registerOnboardCommand\");export{registerOnboardCommand};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/cli/program/register.onboard.ts"],"sourcesContent":[null]}}