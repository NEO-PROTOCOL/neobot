{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{dashboardCommand}from\"../../commands/dashboard.js\";import{doctorCommand}from\"../../commands/doctor.js\";import{resetCommand}from\"../../commands/reset.js\";import{uninstallCommand}from\"../../commands/uninstall.js\";import{defaultRuntime}from\"../../runtime.js\";import{formatDocsLink}from\"../../terminal/links.js\";import{theme}from\"../../terminal/theme.js\";import{runCommandWithRuntime}from\"../cli-utils.js\";function registerMaintenanceCommands(program){program.command(\"doctor\").description(\"Health checks + quick fixes for the gateway and channels\").addHelpText(\"after\",()=>`\n${theme.muted(\"Docs:\")} ${formatDocsLink(\"/cli/doctor\",\"docs.molt.bot/cli/doctor\")}\n`).option(\"--no-workspace-suggestions\",\"Disable workspace memory system suggestions\",false).option(\"--yes\",\"Accept defaults without prompting\",false).option(\"--repair\",\"Apply recommended repairs without prompting\",false).option(\"--fix\",\"Apply recommended repairs (alias for --repair)\",false).option(\"--force\",\"Apply aggressive repairs (overwrites custom service config)\",false).option(\"--non-interactive\",\"Run without prompts (safe migrations only)\",false).option(\"--generate-gateway-token\",\"Generate and configure a gateway token\",false).option(\"--deep\",\"Scan system services for extra gateway installs\",false).action(async opts=>{await runCommandWithRuntime(defaultRuntime,async()=>{await doctorCommand(defaultRuntime,{workspaceSuggestions:opts.workspaceSuggestions,yes:Boolean(opts.yes),repair:Boolean(opts.repair)||Boolean(opts.fix),force:Boolean(opts.force),nonInteractive:Boolean(opts.nonInteractive),generateGatewayToken:Boolean(opts.generateGatewayToken),deep:Boolean(opts.deep)})})});program.command(\"dashboard\").description(\"Open the Control UI with your current token\").addHelpText(\"after\",()=>`\n${theme.muted(\"Docs:\")} ${formatDocsLink(\"/cli/dashboard\",\"docs.molt.bot/cli/dashboard\")}\n`).option(\"--no-open\",\"Print URL but do not launch a browser\",false).action(async opts=>{await runCommandWithRuntime(defaultRuntime,async()=>{await dashboardCommand(defaultRuntime,{noOpen:Boolean(opts.noOpen)})})});program.command(\"reset\").description(\"Reset local config/state (keeps the CLI installed)\").addHelpText(\"after\",()=>`\n${theme.muted(\"Docs:\")} ${formatDocsLink(\"/cli/reset\",\"docs.molt.bot/cli/reset\")}\n`).option(\"--scope <scope>\",\"config|config+creds+sessions|full (default: interactive prompt)\").option(\"--yes\",\"Skip confirmation prompts\",false).option(\"--non-interactive\",\"Disable prompts (requires --scope + --yes)\",false).option(\"--dry-run\",\"Print actions without removing files\",false).action(async opts=>{await runCommandWithRuntime(defaultRuntime,async()=>{await resetCommand(defaultRuntime,{scope:opts.scope,yes:Boolean(opts.yes),nonInteractive:Boolean(opts.nonInteractive),dryRun:Boolean(opts.dryRun)})})});program.command(\"uninstall\").description(\"Uninstall the gateway service + local data (CLI remains)\").addHelpText(\"after\",()=>`\n${theme.muted(\"Docs:\")} ${formatDocsLink(\"/cli/uninstall\",\"docs.molt.bot/cli/uninstall\")}\n`).option(\"--service\",\"Remove the gateway service\",false).option(\"--state\",\"Remove state + config\",false).option(\"--workspace\",\"Remove workspace dirs\",false).option(\"--app\",\"Remove the macOS app\",false).option(\"--all\",\"Remove service + state + workspace + app\",false).option(\"--yes\",\"Skip confirmation prompts\",false).option(\"--non-interactive\",\"Disable prompts (requires --yes)\",false).option(\"--dry-run\",\"Print actions without removing files\",false).action(async opts=>{await runCommandWithRuntime(defaultRuntime,async()=>{await uninstallCommand(defaultRuntime,{service:Boolean(opts.service),state:Boolean(opts.state),workspace:Boolean(opts.workspace),app:Boolean(opts.app),all:Boolean(opts.all),yes:Boolean(opts.yes),nonInteractive:Boolean(opts.nonInteractive),dryRun:Boolean(opts.dryRun)})})})}__name(registerMaintenanceCommands,\"registerMaintenanceCommands\");export{registerMaintenanceCommands};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/cli/program/register.maintenance.ts"],"sourcesContent":[null]}}