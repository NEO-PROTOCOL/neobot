{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import os from\"node:os\";import path from\"node:path\";function resolveIsNixMode(env=process.env){return env.CLAWDBOT_NIX_MODE===\"1\"}__name(resolveIsNixMode,\"resolveIsNixMode\");const isNixMode=resolveIsNixMode();const LEGACY_STATE_DIRNAME=\".clawdbot\";const NEW_STATE_DIRNAME=\".moltbot\";const CONFIG_FILENAME=\"moltbot.json\";function legacyStateDir(homedir=os.homedir){return path.join(homedir(),LEGACY_STATE_DIRNAME)}__name(legacyStateDir,\"legacyStateDir\");function newStateDir(homedir=os.homedir){return path.join(homedir(),NEW_STATE_DIRNAME)}__name(newStateDir,\"newStateDir\");function resolveStateDir(env=process.env,homedir=os.homedir){const override=env.MOLTBOT_STATE_DIR?.trim()||env.CLAWDBOT_STATE_DIR?.trim();if(override)return resolveUserPath(override);return legacyStateDir(homedir)}__name(resolveStateDir,\"resolveStateDir\");function resolveUserPath(input){const trimmed=input.trim();if(!trimmed)return trimmed;if(trimmed.startsWith(\"~\")){const expanded=trimmed.replace(/^~(?=$|[\\\\/])/,os.homedir());return path.resolve(expanded)}return path.resolve(trimmed)}__name(resolveUserPath,\"resolveUserPath\");const STATE_DIR=resolveStateDir();function resolveConfigPath(env=process.env,stateDir=resolveStateDir(env,os.homedir)){const override=env.MOLTBOT_CONFIG_PATH?.trim()||env.CLAWDBOT_CONFIG_PATH?.trim();if(override)return resolveUserPath(override);return path.join(stateDir,CONFIG_FILENAME)}__name(resolveConfigPath,\"resolveConfigPath\");const CONFIG_PATH=resolveConfigPath();function resolveDefaultConfigCandidates(env=process.env,homedir=os.homedir){const explicit=env.MOLTBOT_CONFIG_PATH?.trim()||env.CLAWDBOT_CONFIG_PATH?.trim();if(explicit)return[resolveUserPath(explicit)];const candidates=[];const moltbotStateDir=env.MOLTBOT_STATE_DIR?.trim();if(moltbotStateDir){candidates.push(path.join(resolveUserPath(moltbotStateDir),CONFIG_FILENAME))}const legacyStateDirOverride=env.CLAWDBOT_STATE_DIR?.trim();if(legacyStateDirOverride){candidates.push(path.join(resolveUserPath(legacyStateDirOverride),CONFIG_FILENAME))}candidates.push(path.join(newStateDir(homedir),CONFIG_FILENAME));candidates.push(path.join(legacyStateDir(homedir),CONFIG_FILENAME));return candidates}__name(resolveDefaultConfigCandidates,\"resolveDefaultConfigCandidates\");const DEFAULT_GATEWAY_PORT=18789;function resolveGatewayLockDir(tmpdir=os.tmpdir){const base=tmpdir();const uid=typeof process.getuid===\"function\"?process.getuid():void 0;const suffix=uid!=null?`moltbot-${uid}`:\"moltbot\";return path.join(base,suffix)}__name(resolveGatewayLockDir,\"resolveGatewayLockDir\");const OAUTH_FILENAME=\"oauth.json\";function resolveOAuthDir(env=process.env,stateDir=resolveStateDir(env,os.homedir)){const override=env.CLAWDBOT_OAUTH_DIR?.trim();if(override)return resolveUserPath(override);return path.join(stateDir,\"credentials\")}__name(resolveOAuthDir,\"resolveOAuthDir\");function resolveOAuthPath(env=process.env,stateDir=resolveStateDir(env,os.homedir)){return path.join(resolveOAuthDir(env,stateDir),OAUTH_FILENAME)}__name(resolveOAuthPath,\"resolveOAuthPath\");function resolveGatewayPort(cfg,env=process.env){const envRaw=env.CLAWDBOT_GATEWAY_PORT?.trim();if(envRaw){const parsed=Number.parseInt(envRaw,10);if(Number.isFinite(parsed)&&parsed>0)return parsed}const configPort=cfg?.gateway?.port;if(typeof configPort===\"number\"&&Number.isFinite(configPort)){if(configPort>0)return configPort}return DEFAULT_GATEWAY_PORT}__name(resolveGatewayPort,\"resolveGatewayPort\");export{CONFIG_PATH,DEFAULT_GATEWAY_PORT,STATE_DIR,isNixMode,resolveConfigPath,resolveDefaultConfigCandidates,resolveGatewayLockDir,resolveGatewayPort,resolveIsNixMode,resolveOAuthDir,resolveOAuthPath,resolveStateDir};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/config/paths.ts"],"sourcesContent":[null]}}