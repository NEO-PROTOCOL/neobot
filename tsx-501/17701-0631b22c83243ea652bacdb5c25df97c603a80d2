{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import fs from\"node:fs\";import path from\"node:path\";import{fileURLToPath}from\"node:url\";import{createJiti}from\"jiti\";import{createSubsystemLogger}from\"../logging/subsystem.js\";import{resolveUserPath}from\"../utils.js\";import{discoverMoltbotPlugins}from\"./discovery.js\";import{loadPluginManifestRegistry}from\"./manifest-registry.js\";import{normalizePluginsConfig,resolveEnableState,resolveMemorySlotDecision}from\"./config-state.js\";import{initializeGlobalHookRunner}from\"./hook-runner-global.js\";import{clearPluginCommands}from\"./commands.js\";import{createPluginRegistry}from\"./registry.js\";import{createPluginRuntime}from\"./runtime/index.js\";import{setActivePluginRegistry}from\"./runtime.js\";import{validateJsonSchemaValue}from\"./schema-validator.js\";const registryCache=new Map;const defaultLogger=__name(()=>createSubsystemLogger(\"plugins\"),\"defaultLogger\");const resolvePluginSdkAlias=__name(()=>{try{const modulePath=fileURLToPath(import.meta.url);const isDistRuntime=modulePath.split(path.sep).includes(\"dist\");const preferDist=process.env.VITEST||process.env.NODE_ENV===\"test\"||isDistRuntime;let cursor=path.dirname(modulePath);for(let i=0;i<6;i+=1){const srcCandidate=path.join(cursor,\"src\",\"plugin-sdk\",\"index.ts\");const distCandidate=path.join(cursor,\"dist\",\"plugin-sdk\",\"index.js\");const orderedCandidates=preferDist?[distCandidate,srcCandidate]:[srcCandidate,distCandidate];for(const candidate of orderedCandidates){if(fs.existsSync(candidate))return candidate}const parent=path.dirname(cursor);if(parent===cursor)break;cursor=parent}}catch{}return null},\"resolvePluginSdkAlias\");function buildCacheKey(params){const workspaceKey=params.workspaceDir?resolveUserPath(params.workspaceDir):\"\";return`${workspaceKey}::${JSON.stringify(params.plugins)}`}__name(buildCacheKey,\"buildCacheKey\");function validatePluginConfig(params){const schema=params.schema;if(!schema){return{ok:true,value:params.value}}const cacheKey=params.cacheKey??JSON.stringify(schema);const result=validateJsonSchemaValue({schema,cacheKey,value:params.value??{}});if(result.ok){return{ok:true,value:params.value}}return{ok:false,errors:result.errors}}__name(validatePluginConfig,\"validatePluginConfig\");function resolvePluginModuleExport(moduleExport){const resolved=moduleExport&&typeof moduleExport===\"object\"&&\"default\"in moduleExport?moduleExport.default:moduleExport;if(typeof resolved===\"function\"){return{register:resolved}}if(resolved&&typeof resolved===\"object\"){const def=resolved;const register=def.register??def.activate;return{definition:def,register}}return{}}__name(resolvePluginModuleExport,\"resolvePluginModuleExport\");function createPluginRecord(params){return{id:params.id,name:params.name??params.id,description:params.description,version:params.version,source:params.source,origin:params.origin,workspaceDir:params.workspaceDir,enabled:params.enabled,status:params.enabled?\"loaded\":\"disabled\",toolNames:[],hookNames:[],channelIds:[],providerIds:[],gatewayMethods:[],cliCommands:[],services:[],commands:[],httpHandlers:0,hookCount:0,configSchema:params.configSchema,configUiHints:void 0,configJsonSchema:void 0}}__name(createPluginRecord,\"createPluginRecord\");function pushDiagnostics(diagnostics,append){diagnostics.push(...append)}__name(pushDiagnostics,\"pushDiagnostics\");function loadMoltbotPlugins(options={}){const cfg=options.config??{};const logger=options.logger??defaultLogger();const validateOnly=options.mode===\"validate\";const normalized=normalizePluginsConfig(cfg.plugins);const cacheKey=buildCacheKey({workspaceDir:options.workspaceDir,plugins:normalized});const cacheEnabled=options.cache!==false;if(cacheEnabled){const cached=registryCache.get(cacheKey);if(cached){setActivePluginRegistry(cached,cacheKey);return cached}}clearPluginCommands();const runtime=createPluginRuntime();const{registry,createApi}=createPluginRegistry({logger,runtime,coreGatewayHandlers:options.coreGatewayHandlers});const discovery=discoverMoltbotPlugins({workspaceDir:options.workspaceDir,extraPaths:normalized.loadPaths});const manifestRegistry=loadPluginManifestRegistry({config:cfg,workspaceDir:options.workspaceDir,cache:options.cache,candidates:discovery.candidates,diagnostics:discovery.diagnostics});pushDiagnostics(registry.diagnostics,manifestRegistry.diagnostics);const pluginSdkAlias=resolvePluginSdkAlias();const jiti=createJiti(import.meta.url,{interopDefault:true,extensions:[\".ts\",\".tsx\",\".mts\",\".cts\",\".mtsx\",\".ctsx\",\".js\",\".mjs\",\".cjs\",\".json\"],...pluginSdkAlias?{alias:{\"clawdbot/plugin-sdk\":pluginSdkAlias,\"moltbot/plugin-sdk\":pluginSdkAlias}}:{}});const manifestByRoot=new Map(manifestRegistry.plugins.map(record=>[record.rootDir,record]));const seenIds=new Map;const memorySlot=normalized.slots.memory;let selectedMemoryPluginId=null;let memorySlotMatched=false;for(const candidate of discovery.candidates){const manifestRecord=manifestByRoot.get(candidate.rootDir);if(!manifestRecord){continue}const pluginId=manifestRecord.id;const existingOrigin=seenIds.get(pluginId);if(existingOrigin){const record2=createPluginRecord({id:pluginId,name:manifestRecord.name??pluginId,description:manifestRecord.description,version:manifestRecord.version,source:candidate.source,origin:candidate.origin,workspaceDir:candidate.workspaceDir,enabled:false,configSchema:Boolean(manifestRecord.configSchema)});record2.status=\"disabled\";record2.error=`overridden by ${existingOrigin} plugin`;registry.plugins.push(record2);continue}const enableState=resolveEnableState(pluginId,candidate.origin,normalized);const entry=normalized.entries[pluginId];const record=createPluginRecord({id:pluginId,name:manifestRecord.name??pluginId,description:manifestRecord.description,version:manifestRecord.version,source:candidate.source,origin:candidate.origin,workspaceDir:candidate.workspaceDir,enabled:enableState.enabled,configSchema:Boolean(manifestRecord.configSchema)});record.kind=manifestRecord.kind;record.configUiHints=manifestRecord.configUiHints;record.configJsonSchema=manifestRecord.configSchema;if(!enableState.enabled){record.status=\"disabled\";record.error=enableState.reason;registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);continue}if(!manifestRecord.configSchema){record.status=\"error\";record.error=\"missing config schema\";registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);registry.diagnostics.push({level:\"error\",pluginId:record.id,source:record.source,message:record.error});continue}let mod=null;try{mod=jiti(candidate.source)}catch(err){logger.error(`[plugins] ${record.id} failed to load from ${record.source}: ${String(err)}`);record.status=\"error\";record.error=String(err);registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);registry.diagnostics.push({level:\"error\",pluginId:record.id,source:record.source,message:`failed to load plugin: ${String(err)}`});continue}const resolved=resolvePluginModuleExport(mod);const definition=resolved.definition;const register=resolved.register;if(definition?.id&&definition.id!==record.id){registry.diagnostics.push({level:\"warn\",pluginId:record.id,source:record.source,message:`plugin id mismatch (config uses \"${record.id}\", export uses \"${definition.id}\")`})}record.name=definition?.name??record.name;record.description=definition?.description??record.description;record.version=definition?.version??record.version;const manifestKind=record.kind;const exportKind=definition?.kind;if(manifestKind&&exportKind&&exportKind!==manifestKind){registry.diagnostics.push({level:\"warn\",pluginId:record.id,source:record.source,message:`plugin kind mismatch (manifest uses \"${manifestKind}\", export uses \"${exportKind}\")`})}record.kind=definition?.kind??record.kind;if(record.kind===\"memory\"&&memorySlot===record.id){memorySlotMatched=true}const memoryDecision=resolveMemorySlotDecision({id:record.id,kind:record.kind,slot:memorySlot,selectedId:selectedMemoryPluginId});if(!memoryDecision.enabled){record.enabled=false;record.status=\"disabled\";record.error=memoryDecision.reason;registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);continue}if(memoryDecision.selected&&record.kind===\"memory\"){selectedMemoryPluginId=record.id}const validatedConfig=validatePluginConfig({schema:manifestRecord.configSchema,cacheKey:manifestRecord.schemaCacheKey,value:entry?.config});if(!validatedConfig.ok){logger.error(`[plugins] ${record.id} invalid config: ${validatedConfig.errors?.join(\", \")}`);record.status=\"error\";record.error=`invalid config: ${validatedConfig.errors?.join(\", \")}`;registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);registry.diagnostics.push({level:\"error\",pluginId:record.id,source:record.source,message:record.error});continue}if(validateOnly){registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);continue}if(typeof register!==\"function\"){logger.error(`[plugins] ${record.id} missing register/activate export`);record.status=\"error\";record.error=\"plugin export missing register/activate\";registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);registry.diagnostics.push({level:\"error\",pluginId:record.id,source:record.source,message:record.error});continue}const api=createApi(record,{config:cfg,pluginConfig:validatedConfig.value});try{const result=register(api);if(result&&typeof result.then===\"function\"){registry.diagnostics.push({level:\"warn\",pluginId:record.id,source:record.source,message:\"plugin register returned a promise; async registration is ignored\"})}registry.plugins.push(record);seenIds.set(pluginId,candidate.origin)}catch(err){logger.error(`[plugins] ${record.id} failed during register from ${record.source}: ${String(err)}`);record.status=\"error\";record.error=String(err);registry.plugins.push(record);seenIds.set(pluginId,candidate.origin);registry.diagnostics.push({level:\"error\",pluginId:record.id,source:record.source,message:`plugin failed during register: ${String(err)}`})}}if(typeof memorySlot===\"string\"&&!memorySlotMatched){registry.diagnostics.push({level:\"warn\",message:`memory slot plugin not found or not marked as memory: ${memorySlot}`})}if(cacheEnabled){registryCache.set(cacheKey,registry)}setActivePluginRegistry(registry,cacheKey);initializeGlobalHookRunner(registry);return registry}__name(loadMoltbotPlugins,\"loadMoltbotPlugins\");export{loadMoltbotPlugins};\n","warnings":[],"map":{"version":3,"mappings":"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","names":["record"],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/plugins/loader.ts"],"sourcesContent":[null]}}