{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{resolveCommitHash}from\"../infra/git-commit.js\";import{visibleWidth}from\"../terminal/ansi.js\";import{isRich,theme}from\"../terminal/theme.js\";import{pickTagline}from\"./tagline.js\";import{resolveCliName}from\"./cli-name.js\";let bannerEmitted=false;const graphemeSegmenter=typeof Intl!==\"undefined\"&&\"Segmenter\"in Intl?new Intl.Segmenter(void 0,{granularity:\"grapheme\"}):null;function splitGraphemes(value){if(!graphemeSegmenter)return Array.from(value);try{return Array.from(graphemeSegmenter.segment(value),seg=>seg.segment)}catch{return Array.from(value)}}__name(splitGraphemes,\"splitGraphemes\");const hasJsonFlag=__name(argv=>argv.some(arg=>arg===\"--json\"||arg.startsWith(\"--json=\")),\"hasJsonFlag\");const hasVersionFlag=__name(argv=>argv.some(arg=>arg===\"--version\"||arg===\"-V\"||arg===\"-v\"),\"hasVersionFlag\");function formatCliBannerLine(version,options={}){const commit=options.commit??resolveCommitHash({env:options.env});const commitLabel=commit??\"unknown\";const tagline=pickTagline(options);const rich=options.richTty??isRich();const cliName=resolveCliName(options.argv??process.argv,options.env);const title=cliName===\"moltbot\"?\"\\u{1F99E} Moltbot\":\"\\u{1F99E} Moltbot\";const prefix=\"\\u{1F99E} \";const columns=options.columns??process.stdout.columns??120;const plainFullLine=`${title} ${version} (${commitLabel}) \\u2014 ${tagline}`;const fitsOnOneLine=visibleWidth(plainFullLine)<=columns;if(rich){if(fitsOnOneLine){return`${theme.heading(title)} ${theme.info(version)} ${theme.muted(`(${commitLabel})`)} ${theme.muted(\"\\u2014\")} ${theme.accentDim(tagline)}`}const line12=`${theme.heading(title)} ${theme.info(version)} ${theme.muted(`(${commitLabel})`)}`;const line22=`${\" \".repeat(prefix.length)}${theme.accentDim(tagline)}`;return`${line12}\n${line22}`}if(fitsOnOneLine){return plainFullLine}const line1=`${title} ${version} (${commitLabel})`;const line2=`${\" \".repeat(prefix.length)}${tagline}`;return`${line1}\n${line2}`}__name(formatCliBannerLine,\"formatCliBannerLine\");const LOBSTER_ASCII=[\"\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2588\\u2588\\u2588\\u2588\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2588\\u2588\\u2588\\u2591\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2591\\u2580\\u2588\\u2580\",\"\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\",\"\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2588\\u2588\\u2588\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\",\"\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\",\"\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2588\\u2588\\u2588\\u2588\\u2588\\u2591\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\\u2591\\u2588\\u2591\\u2588\\u2591\\u2591\\u2588\\u2588\\u2588\\u2591\\u2591\\u2588\\u2588\\u2588\\u2588\\u2591\\u2591\\u2591\\u2588\\u2588\\u2588\\u2591\\u2591\\u2591\\u2588\\u2591\",\"              \\u{1F99E} FRESH DAILY \\u{1F99E}\"];function formatCliBannerArt(options={}){const rich=options.richTty??isRich();if(!rich)return LOBSTER_ASCII.join(\"\\n\");const colorChar=__name(ch=>{if(ch===\"\\u2588\")return theme.accentBright(ch);if(ch===\"\\u2591\")return theme.accentDim(ch);if(ch===\"\\u2580\")return theme.accent(ch);return theme.muted(ch)},\"colorChar\");const colored=LOBSTER_ASCII.map(line=>{if(line.includes(\"FRESH DAILY\")){return theme.muted(\"              \")+theme.accent(\"\\u{1F99E}\")+theme.info(\" FRESH DAILY \")+theme.accent(\"\\u{1F99E}\")}return splitGraphemes(line).map(colorChar).join(\"\")});return colored.join(\"\\n\")}__name(formatCliBannerArt,\"formatCliBannerArt\");function emitCliBanner(version,options={}){if(bannerEmitted)return;const argv=options.argv??process.argv;if(!process.stdout.isTTY)return;if(hasJsonFlag(argv))return;if(hasVersionFlag(argv))return;const line=formatCliBannerLine(version,options);process.stdout.write(`\n${line}\n\n`);bannerEmitted=true}__name(emitCliBanner,\"emitCliBanner\");function hasEmittedCliBanner(){return bannerEmitted}__name(hasEmittedCliBanner,\"hasEmittedCliBanner\");export{emitCliBanner,formatCliBannerArt,formatCliBannerLine,hasEmittedCliBanner};\n","warnings":[],"map":{"version":3,"mappings":"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","names":["line1","line2"],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/cli/banner.ts"],"sourcesContent":[null]}}