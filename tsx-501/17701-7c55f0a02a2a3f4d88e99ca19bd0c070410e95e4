{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{agentsListCommand}from\"../../commands/agents.js\";import{healthCommand}from\"../../commands/health.js\";import{sessionsCommand}from\"../../commands/sessions.js\";import{statusCommand}from\"../../commands/status.js\";import{defaultRuntime}from\"../../runtime.js\";import{getFlagValue,getPositiveIntFlagValue,getVerboseFlag,hasFlag}from\"../argv.js\";import{registerBrowserCli}from\"../browser-cli.js\";import{registerConfigCli}from\"../config-cli.js\";import{registerMemoryCli,runMemoryStatus}from\"../memory-cli.js\";import{registerAgentCommands}from\"./register.agent.js\";import{registerConfigureCommand}from\"./register.configure.js\";import{registerMaintenanceCommands}from\"./register.maintenance.js\";import{registerMessageCommands}from\"./register.message.js\";import{registerNeoCommands}from\"./register.neo.js\";import{registerOnboardCommand}from\"./register.onboard.js\";import{registerSetupCommand}from\"./register.setup.js\";import{registerStatusHealthSessionsCommands}from\"./register.status-health-sessions.js\";import{registerSubCliCommands}from\"./register.subclis.js\";const routeHealth={match:__name(path=>path[0]===\"health\",\"match\"),loadPlugins:true,run:__name(async argv=>{const json=hasFlag(argv,\"--json\");const verbose=getVerboseFlag(argv,{includeDebug:true});const timeoutMs=getPositiveIntFlagValue(argv,\"--timeout\");if(timeoutMs===null)return false;await healthCommand({json,timeoutMs,verbose},defaultRuntime);return true},\"run\")};const routeStatus={match:__name(path=>path[0]===\"status\",\"match\"),loadPlugins:true,run:__name(async argv=>{const json=hasFlag(argv,\"--json\");const deep=hasFlag(argv,\"--deep\");const all=hasFlag(argv,\"--all\");const usage=hasFlag(argv,\"--usage\");const verbose=getVerboseFlag(argv,{includeDebug:true});const timeoutMs=getPositiveIntFlagValue(argv,\"--timeout\");if(timeoutMs===null)return false;await statusCommand({json,deep,all,usage,timeoutMs,verbose},defaultRuntime);return true},\"run\")};const routeSessions={match:__name(path=>path[0]===\"sessions\",\"match\"),run:__name(async argv=>{const json=hasFlag(argv,\"--json\");const store=getFlagValue(argv,\"--store\");if(store===null)return false;const active=getFlagValue(argv,\"--active\");if(active===null)return false;await sessionsCommand({json,store,active},defaultRuntime);return true},\"run\")};const routeAgentsList={match:__name(path=>path[0]===\"agents\"&&path[1]===\"list\",\"match\"),run:__name(async argv=>{const json=hasFlag(argv,\"--json\");const bindings=hasFlag(argv,\"--bindings\");await agentsListCommand({json,bindings},defaultRuntime);return true},\"run\")};const routeMemoryStatus={match:__name(path=>path[0]===\"memory\"&&path[1]===\"status\",\"match\"),run:__name(async argv=>{const agent=getFlagValue(argv,\"--agent\");if(agent===null)return false;const json=hasFlag(argv,\"--json\");const deep=hasFlag(argv,\"--deep\");const index=hasFlag(argv,\"--index\");const verbose=hasFlag(argv,\"--verbose\");await runMemoryStatus({agent,json,deep,index,verbose});return true},\"run\")};const commandRegistry=[{id:\"setup\",register:__name(({program})=>registerSetupCommand(program),\"register\")},{id:\"onboard\",register:__name(({program})=>registerOnboardCommand(program),\"register\")},{id:\"configure\",register:__name(({program})=>registerConfigureCommand(program),\"register\")},{id:\"config\",register:__name(({program})=>registerConfigCli(program),\"register\")},{id:\"maintenance\",register:__name(({program})=>registerMaintenanceCommands(program),\"register\")},{id:\"message\",register:__name(({program,ctx})=>registerMessageCommands(program,ctx),\"register\")},{id:\"memory\",register:__name(({program})=>registerMemoryCli(program),\"register\"),routes:[routeMemoryStatus]},{id:\"agent\",register:__name(({program,ctx})=>registerAgentCommands(program,{agentChannelOptions:ctx.agentChannelOptions}),\"register\"),routes:[routeAgentsList]},{id:\"subclis\",register:__name(({program,argv})=>registerSubCliCommands(program,argv),\"register\")},{id:\"status-health-sessions\",register:__name(({program})=>registerStatusHealthSessionsCommands(program),\"register\"),routes:[routeHealth,routeStatus,routeSessions]},{id:\"browser\",register:__name(({program})=>registerBrowserCli(program),\"register\")},{id:\"neo\",register:__name(({program})=>registerNeoCommands(program),\"register\")}];function registerProgramCommands(program,ctx,argv=process.argv){for(const entry of commandRegistry){entry.register({program,ctx,argv})}}__name(registerProgramCommands,\"registerProgramCommands\");function findRoutedCommand(path){for(const entry of commandRegistry){if(!entry.routes)continue;for(const route of entry.routes){if(route.match(path))return route}}return null}__name(findRoutedCommand,\"findRoutedCommand\");export{commandRegistry,findRoutedCommand,registerProgramCommands};\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/src/cli/program/command-registry.ts"],"sourcesContent":[null]}}