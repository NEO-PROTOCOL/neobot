{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{execSync}from\"node:child_process\";import fs from\"node:fs\";import path from\"node:path\";import{fileURLToPath}from\"node:url\";const rootDir=path.resolve(path.dirname(fileURLToPath(import.meta.url)),\"..\");const distDir=path.join(rootDir,\"dist\");const pkgPath=path.join(rootDir,\"package.json\");const readPackageVersion=__name(()=>{try{const raw=fs.readFileSync(pkgPath,\"utf8\");const parsed=JSON.parse(raw);return parsed.version??null}catch{return null}},\"readPackageVersion\");const resolveCommit=__name(()=>{const envCommit=process.env.GIT_COMMIT?.trim()||process.env.GIT_SHA?.trim();if(envCommit)return envCommit;try{return execSync(\"git rev-parse HEAD\",{cwd:rootDir,stdio:[\"ignore\",\"pipe\",\"ignore\"]}).toString().trim()}catch{return null}},\"resolveCommit\");const version=readPackageVersion();const commit=resolveCommit();const buildInfo={version,commit,builtAt:new Date().toISOString()};fs.mkdirSync(distDir,{recursive:true});fs.writeFileSync(path.join(distDir,\"build-info.json\"),`${JSON.stringify(buildInfo,null,2)}\n`);\n","warnings":[],"map":{"version":3,"mappings":"kHAAA,OAAS,aAAgB,qBACzB,OAAO,OAAQ,UACf,OAAO,SAAU,YACjB,OAAS,kBAAqB,WAE9B,MAAM,QAAU,KAAK,QAAQ,KAAK,QAAQ,cAAc,YAAY,GAAG,CAAC,EAAG,IAAI,EAC/E,MAAM,QAAU,KAAK,KAAK,QAAS,MAAM,EACzC,MAAM,QAAU,KAAK,KAAK,QAAS,cAAc,EAEjD,MAAM,mBAAqB,WAAM,CAC/B,GAAI,CACF,MAAM,IAAM,GAAG,aAAa,QAAS,MAAM,EAC3C,MAAM,OAAS,KAAK,MAAM,GAAG,EAC7B,OAAO,OAAO,SAAW,IAC3B,MAAQ,CACN,OAAO,IACT,CACF,EAR2B,sBAU3B,MAAM,cAAgB,WAAM,CAC1B,MAAM,UAAY,QAAQ,IAAI,YAAY,KAAK,GAAK,QAAQ,IAAI,SAAS,KAAK,EAC9E,GAAI,UAAW,OAAO,UACtB,GAAI,CACF,OAAO,SAAS,qBAAsB,CACpC,IAAK,QACL,MAAO,CAAC,SAAU,OAAQ,QAAQ,CACpC,CAAC,EACE,SAAS,EACT,KAAK,CACV,MAAQ,CACN,OAAO,IACT,CACF,EAbsB,iBAetB,MAAM,QAAU,mBAAmB,EACnC,MAAM,OAAS,cAAc,EAE7B,MAAM,UAAY,CAChB,QACA,OACA,QAAS,IAAI,KAAK,EAAE,YAAY,CAClC,EAEA,GAAG,UAAU,QAAS,CAAE,UAAW,IAAK,CAAC,EACzC,GAAG,cACD,KAAK,KAAK,QAAS,iBAAiB,EACpC,GAAG,KAAK,UAAU,UAAW,KAAM,CAAC,CAAC;AAAA,CACvC","names":[],"ignoreList":[],"sources":["/Users/nettomello/CODIGOS/neobot/scripts/write-build-info.ts"],"sourcesContent":[null]}}